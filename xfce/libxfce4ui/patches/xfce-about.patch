diff -Nur libxfce4ui-4.15.5_old/configure libxfce4ui-4.15.5/configure
--- libxfce4ui-4.15.5_old/configure	2020-11-19 23:44:58.000000000 +0700
+++ libxfce4ui-4.15.5/configure	2020-11-27 15:24:45.857061000 +0700
@@ -1,7 +1,7 @@
 #! /bin/sh
-# From configure.ac aa9751f.
+# From configure.ac UNKNOWN.
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.69 for libxfce4ui 4.15.5.
+# Generated by GNU Autoconf 2.69 for libxfce4ui 4.15.5git-UNKNOWN.
 #
 # Report bugs to <https://gitlab.xfce.org/xfce/libxfce4ui/-/issues>.
 #
@@ -593,8 +593,8 @@
 # Identity of this package.
 PACKAGE_NAME='libxfce4ui'
 PACKAGE_TARNAME='libxfce4ui'
-PACKAGE_VERSION='4.15.5'
-PACKAGE_STRING='libxfce4ui 4.15.5'
+PACKAGE_VERSION='4.15.5git-UNKNOWN'
+PACKAGE_STRING='libxfce4ui 4.15.5git-UNKNOWN'
 PACKAGE_BUGREPORT='https://gitlab.xfce.org/xfce/libxfce4ui/-/issues'
 PACKAGE_URL=''
 
@@ -703,6 +703,12 @@
 INTROSPECTION_SCANNER
 _GI_EXP_LIBDIR
 _GI_EXP_DATADIR
+HAVE_GUDEV_FALSE
+HAVE_GUDEV_TRUE
+GUDEV_REQUIRED_VERSION
+GUDEV_LIBS
+GUDEV_CFLAGS
+GUDEV_VERSION
 HAVE_EPOXY_FALSE
 HAVE_EPOXY_TRUE
 EPOXY_REQUIRED_VERSION
@@ -907,7 +913,6 @@
 docdir
 oldincludedir
 includedir
-runstatedir
 localstatedir
 sharedstatedir
 sysconfdir
@@ -947,6 +952,7 @@
 with_x
 enable_glibtop
 enable_epoxy
+enable_gudev
 enable_introspection
 enable_vala
 enable_startup_notification
@@ -1020,7 +1026,6 @@
 sysconfdir='${prefix}/etc'
 sharedstatedir='${prefix}/com'
 localstatedir='${prefix}/var'
-runstatedir='${localstatedir}/run'
 includedir='${prefix}/include'
 oldincludedir='/usr/include'
 docdir='${datarootdir}/doc/${PACKAGE_TARNAME}'
@@ -1273,15 +1278,6 @@
   | -silent | --silent | --silen | --sile | --sil)
     silent=yes ;;
 
-  -runstatedir | --runstatedir | --runstatedi | --runstated \
-  | --runstate | --runstat | --runsta | --runst | --runs \
-  | --run | --ru | --r)
-    ac_prev=runstatedir ;;
-  -runstatedir=* | --runstatedir=* | --runstatedi=* | --runstated=* \
-  | --runstate=* | --runstat=* | --runsta=* | --runst=* | --runs=* \
-  | --run=* | --ru=* | --r=*)
-    runstatedir=$ac_optarg ;;
-
   -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)
     ac_prev=sbindir ;;
   -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
@@ -1419,7 +1415,7 @@
 for ac_var in	exec_prefix prefix bindir sbindir libexecdir datarootdir \
 		datadir sysconfdir sharedstatedir localstatedir includedir \
 		oldincludedir docdir infodir htmldir dvidir pdfdir psdir \
-		libdir localedir mandir runstatedir
+		libdir localedir mandir
 do
   eval ac_val=\$$ac_var
   # Remove trailing slashes.
@@ -1532,7 +1528,7 @@
   # Omit some internal or obsolete options to make the list less imposing.
   # This message is too long to be a string in the A/UX 3.1 sh.
   cat <<_ACEOF
-\`configure' configures libxfce4ui 4.15.5 to adapt to many kinds of systems.
+\`configure' configures libxfce4ui 4.15.5git-UNKNOWN to adapt to many kinds of systems.
 
 Usage: $0 [OPTION]... [VAR=VALUE]...
 
@@ -1572,7 +1568,6 @@
   --sysconfdir=DIR        read-only single-machine data [PREFIX/etc]
   --sharedstatedir=DIR    modifiable architecture-independent data [PREFIX/com]
   --localstatedir=DIR     modifiable single-machine data [PREFIX/var]
-  --runstatedir=DIR       modifiable per-process data [LOCALSTATEDIR/run]
   --libdir=DIR            object code libraries [EPREFIX/lib]
   --includedir=DIR        C header files [PREFIX/include]
   --oldincludedir=DIR     C header files for non-gcc [/usr/include]
@@ -1608,7 +1603,7 @@
 
 if test -n "$ac_init_help"; then
   case $ac_init_help in
-     short | recursive ) echo "Configuration of libxfce4ui 4.15.5:";;
+     short | recursive ) echo "Configuration of libxfce4ui 4.15.5git-UNKNOWN:";;
    esac
   cat <<\_ACEOF
 
@@ -1639,6 +1634,9 @@
                           (default=[yes])
   --disable-epoxy         Disable checking for library for handling OpenGL
                           function pointer management
+  --enable-gudev          Enable checking for GObject bindings for libudev
+                          (default=[yes])
+  --disable-gudev         Disable checking for GObject bindings for libudev
   --enable-introspection=[no/auto/yes]
                           Enable introspection for this build
   --enable-vala=[no/auto/yes]
@@ -1659,7 +1657,7 @@
   --enable-gtk-doc-pdf    build documentation in pdf format [[default=no]]
   --enable-debug[=no|minimum|yes|full]
                           Build with debugging support
-                          [default=[minimum]]
+                          [default=[yes]]
   --disable-debug         Include no debugging support
   --disable-linker-opts   Disable linker optimizations
   --disable-visibility    Do not use ELF visibility attributes
@@ -1785,7 +1783,7 @@
 test -n "$ac_init_help" && exit $ac_status
 if $ac_init_version; then
   cat <<\_ACEOF
-libxfce4ui configure 4.15.5
+libxfce4ui configure 4.15.5git-UNKNOWN
 generated by GNU Autoconf 2.69
 
 Copyright (C) 2012 Free Software Foundation, Inc.
@@ -2202,7 +2200,7 @@
 This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
-It was created by libxfce4ui $as_me 4.15.5, which was
+It was created by libxfce4ui $as_me 4.15.5git-UNKNOWN, which was
 generated by GNU Autoconf 2.69.  Invocation command line was
 
   $ $0 $@
@@ -2869,12 +2867,7 @@
 am_aux_dir=`cd "$ac_aux_dir" && pwd`
 
 if test x"${MISSING+set}" != xset; then
-  case $am_aux_dir in
-  *\ * | *\	*)
-    MISSING="\${SHELL} \"$am_aux_dir/missing\"" ;;
-  *)
-    MISSING="\${SHELL} $am_aux_dir/missing" ;;
-  esac
+  MISSING="\${SHELL} '$am_aux_dir/missing'"
 fi
 # Use eval to expand $SHELL
 if eval "$MISSING --is-lightweight"; then
@@ -3179,7 +3172,7 @@
 
 # Define the identity of the package.
  PACKAGE='libxfce4ui'
- VERSION='4.15.5'
+ VERSION='4.15.5git-UNKNOWN'
 
 
 cat >>confdefs.h <<_ACEOF
@@ -7502,7 +7495,7 @@
   lt_cv_deplibs_check_method=pass_all
   ;;
 
-netbsd* | netbsdelf*-gnu)
+netbsd*)
   if echo __ELF__ | $CC -E - | $GREP __ELF__ > /dev/null; then
     lt_cv_deplibs_check_method='match_pattern /lib[^/]+(\.so\.[0-9]+\.[0-9]+|_pic\.a)$'
   else
@@ -7864,7 +7857,7 @@
 fi
 
 : ${AR=ar}
-: ${AR_FLAGS=cr}
+: ${AR_FLAGS=cru}
 
 
 
@@ -8365,8 +8358,11 @@
   test $ac_status = 0; }; then
     # Now try to grab the symbols.
     nlist=conftest.nm
-    $ECHO "$as_me:$LINENO: $NM conftest.$ac_objext | $lt_cv_sys_global_symbol_pipe > $nlist" >&5
-    if eval "$NM" conftest.$ac_objext \| "$lt_cv_sys_global_symbol_pipe" \> $nlist 2>&5 && test -s "$nlist"; then
+    if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$NM conftest.$ac_objext \| "$lt_cv_sys_global_symbol_pipe" \> $nlist\""; } >&5
+  (eval $NM conftest.$ac_objext \| "$lt_cv_sys_global_symbol_pipe" \> $nlist) 2>&5
+  ac_status=$?
+  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; } && test -s "$nlist"; then
       # Try sorting and uniquifying the output.
       if sort "$nlist" | uniq > "$nlist"T; then
 	mv -f "$nlist"T "$nlist"
@@ -9585,8 +9581,8 @@
 _LT_EOF
       echo "$LTCC $LTCFLAGS -c -o conftest.o conftest.c" >&5
       $LTCC $LTCFLAGS -c -o conftest.o conftest.c 2>&5
-      echo "$AR cr libconftest.a conftest.o" >&5
-      $AR cr libconftest.a conftest.o 2>&5
+      echo "$AR cru libconftest.a conftest.o" >&5
+      $AR cru libconftest.a conftest.o 2>&5
       echo "$RANLIB libconftest.a" >&5
       $RANLIB libconftest.a 2>&5
       cat > conftest.c << _LT_EOF
@@ -10443,12 +10439,6 @@
 	lt_prog_compiler_pic='-KPIC'
 	lt_prog_compiler_static='-static'
         ;;
-      # flang / f18. f95 an alias for gfortran or flang on Debian
-      flang* | f18* | f95*)
-	lt_prog_compiler_wl='-Wl,'
-	lt_prog_compiler_pic='-fPIC'
-	lt_prog_compiler_static='-static'
-        ;;
       # icc used to be incompatible with GCC.
       # ICC 10 doesn't accept -KPIC any more.
       icc* | ifort*)
@@ -10925,9 +10915,6 @@
   openbsd* | bitrig*)
     with_gnu_ld=no
     ;;
-  linux* | k*bsd*-gnu | gnu*)
-    link_all_deplibs=no
-    ;;
   esac
 
   ld_shlibs=yes
@@ -11182,7 +11169,7 @@
       fi
       ;;
 
-    netbsd* | netbsdelf*-gnu)
+    netbsd*)
       if echo __ELF__ | $CC -E - | $GREP __ELF__ >/dev/null; then
 	archive_cmds='$LD -Bshareable $libobjs $deplibs $linker_flags -o $lib'
 	wlarc=
@@ -11852,7 +11839,6 @@
 	if test yes = "$lt_cv_irix_exported_symbol"; then
           archive_expsym_cmds='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags $wl-soname $wl$soname `test -n "$verstring" && func_echo_all "$wl-set_version $wl$verstring"` $wl-update_registry $wl$output_objdir/so_locations $wl-exports_file $wl$export_symbols -o $lib'
 	fi
-	link_all_deplibs=no
       else
 	archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags -soname $soname `test -n "$verstring" && func_echo_all "-set_version $verstring"` -update_registry $output_objdir/so_locations -o $lib'
 	archive_expsym_cmds='$CC -shared $libobjs $deplibs $compiler_flags -soname $soname `test -n "$verstring" && func_echo_all "-set_version $verstring"` -update_registry $output_objdir/so_locations -exports_file $export_symbols -o $lib'
@@ -11874,7 +11860,7 @@
       esac
       ;;
 
-    netbsd* | netbsdelf*-gnu)
+    netbsd*)
       if echo __ELF__ | $CC -E - | $GREP __ELF__ >/dev/null; then
 	archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'  # a.out
       else
@@ -12989,18 +12975,6 @@
   dynamic_linker='GNU/Linux ld.so'
   ;;
 
-netbsdelf*-gnu)
-  version_type=linux
-  need_lib_prefix=no
-  need_version=no
-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${shared_ext}'
-  soname_spec='${libname}${release}${shared_ext}$major'
-  shlibpath_var=LD_LIBRARY_PATH
-  shlibpath_overrides_runpath=no
-  hardcode_into_libs=yes
-  dynamic_linker='NetBSD ld.elf_so'
-  ;;
-
 netbsd*)
   version_type=sunos
   need_lib_prefix=no
@@ -14182,7 +14156,7 @@
 
 
 
-    ALL_LINGUAS="en_GB ca zh_CN nb tr en_AU fr eu gl be zh_TW th sr fi pl ast it he et pt_BR ka de sl pa zh_HK nl hy_AM ja hu nn hy si cy ar ko es kk ur sk am te hr sq pt cs is uk hye bn ur_PK id vi da ug lv el sv ru ie lt ms ro bg oc "
+    ALL_LINGUAS="am ar ast be bg bn ca cs cy da de el en_AU en_GB es et eu fi fr gl he hr hu hy hy_AM hye id ie is it ja ka kk ko lt lv ms nb nl nn oc pa pl pt pt_BR ro ru si sk sl sq sr sv te th tr ug uk ur ur_PK vi zh_CN zh_HK zh_TW "
 
    for ac_header in locale.h
 do :
@@ -16667,6 +16641,7 @@
 
 
 EPOXY_FOUND="no"
+if test x"$GLIBTOP_FOUND" = x"yes"; then
 
 
 
@@ -16902,6 +16877,264 @@
 fi
 
 
+else
+   if false; then
+  HAVE_EPOXY_TRUE=
+  HAVE_EPOXY_FALSE='#'
+else
+  HAVE_EPOXY_TRUE='#'
+  HAVE_EPOXY_FALSE=
+fi
+
+fi
+
+GUDEV_FOUND="no"
+if test x"$GLIBTOP_FOUND" = x"yes"; then
+
+
+
+  # Check whether --enable-gudev was given.
+if test "${enable_gudev+set}" = set; then :
+  enableval=$enable_gudev; xdt_cv_GUDEV_check=$enableval
+else
+  xdt_cv_GUDEV_check=yes
+fi
+
+
+  if test x"$xdt_cv_GUDEV_check" = x"yes"; then
+    if $PKG_CONFIG --exists "gudev-1.0 >= 232" >/dev/null 2>&1; then
+
+
+  # minimum supported version of pkg-config
+  xdt_cv_PKG_CONFIG_MIN_VERSION=0.9.0
+
+
+
+
+
+
+
+
+
+if test "x$ac_cv_env_PKG_CONFIG_set" != "xset"; then
+	if test -n "$ac_tool_prefix"; then
+  # Extract the first word of "${ac_tool_prefix}pkg-config", so it can be a program name with args.
+set dummy ${ac_tool_prefix}pkg-config; ac_word=$2
+{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+$as_echo_n "checking for $ac_word... " >&6; }
+if ${ac_cv_path_PKG_CONFIG+:} false; then :
+  $as_echo_n "(cached) " >&6
+else
+  case $PKG_CONFIG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_PKG_CONFIG="$PKG_CONFIG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+    ac_cv_path_PKG_CONFIG="$as_dir/$ac_word$ac_exec_ext"
+    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+PKG_CONFIG=$ac_cv_path_PKG_CONFIG
+if test -n "$PKG_CONFIG"; then
+  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $PKG_CONFIG" >&5
+$as_echo "$PKG_CONFIG" >&6; }
+else
+  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
+$as_echo "no" >&6; }
+fi
+
+
+fi
+if test -z "$ac_cv_path_PKG_CONFIG"; then
+  ac_pt_PKG_CONFIG=$PKG_CONFIG
+  # Extract the first word of "pkg-config", so it can be a program name with args.
+set dummy pkg-config; ac_word=$2
+{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+$as_echo_n "checking for $ac_word... " >&6; }
+if ${ac_cv_path_ac_pt_PKG_CONFIG+:} false; then :
+  $as_echo_n "(cached) " >&6
+else
+  case $ac_pt_PKG_CONFIG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_ac_pt_PKG_CONFIG="$ac_pt_PKG_CONFIG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+    ac_cv_path_ac_pt_PKG_CONFIG="$as_dir/$ac_word$ac_exec_ext"
+    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+ac_pt_PKG_CONFIG=$ac_cv_path_ac_pt_PKG_CONFIG
+if test -n "$ac_pt_PKG_CONFIG"; then
+  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_pt_PKG_CONFIG" >&5
+$as_echo "$ac_pt_PKG_CONFIG" >&6; }
+else
+  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
+$as_echo "no" >&6; }
+fi
+
+  if test "x$ac_pt_PKG_CONFIG" = x; then
+    PKG_CONFIG=""
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
+$as_echo "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
+ac_tool_warned=yes ;;
+esac
+    PKG_CONFIG=$ac_pt_PKG_CONFIG
+  fi
+else
+  PKG_CONFIG="$ac_cv_path_PKG_CONFIG"
+fi
+
+fi
+if test -n "$PKG_CONFIG"; then
+	_pkg_min_version=$xdt_cv_PKG_CONFIG_MIN_VERSION
+	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking pkg-config is at least version $_pkg_min_version" >&5
+$as_echo_n "checking pkg-config is at least version $_pkg_min_version... " >&6; }
+	if $PKG_CONFIG --atleast-pkgconfig-version $_pkg_min_version; then
+		{ $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+$as_echo "yes" >&6; }
+	else
+		{ $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
+$as_echo "no" >&6; }
+		PKG_CONFIG=""
+	fi
+fi
+
+      if test x"$PKG_CONFIG" = x""; then
+        echo
+        echo "*** Your version of pkg-config is too old. You need atleast"
+        echo "*** pkg-config $xdt_cv_PKG_CONFIG_MIN_VERSION or newer. You can download pkg-config"
+        echo "*** from the freedesktop.org software repository at"
+        echo "***"
+        echo "***    https://www.freedesktop.org/wiki/Software/pkg-config/"
+        echo "***"
+        exit 1;
+      fi
+
+
+
+  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for gudev-1.0 >= 232" >&5
+$as_echo_n "checking for gudev-1.0 >= 232... " >&6; }
+  if $PKG_CONFIG "--atleast-version=232" "gudev-1.0" >/dev/null 2>&1; then
+    GUDEV_VERSION=`$PKG_CONFIG --modversion "gudev-1.0"`
+    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $GUDEV_VERSION" >&5
+$as_echo "$GUDEV_VERSION" >&6; }
+
+    { $as_echo "$as_me:${as_lineno-$LINENO}: checking GUDEV_CFLAGS" >&5
+$as_echo_n "checking GUDEV_CFLAGS... " >&6; }
+    GUDEV_CFLAGS=`$PKG_CONFIG --cflags "gudev-1.0"`
+    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $GUDEV_CFLAGS" >&5
+$as_echo "$GUDEV_CFLAGS" >&6; }
+
+    { $as_echo "$as_me:${as_lineno-$LINENO}: checking GUDEV_LIBS" >&5
+$as_echo_n "checking GUDEV_LIBS... " >&6; }
+    GUDEV_LIBS=`$PKG_CONFIG --libs "gudev-1.0"`
+    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $GUDEV_LIBS" >&5
+$as_echo "$GUDEV_LIBS" >&6; }
+
+    GUDEV_REQUIRED_VERSION=232
+
+
+
+
+
+
+
+
+$as_echo "#define HAVE_GUDEV 1" >>confdefs.h
+
+        GUDEV_FOUND="yes"
+
+  elif $PKG_CONFIG --exists "gudev-1.0" >/dev/null 2>&1; then
+    xdt_cv_version=`$PKG_CONFIG --modversion "gudev-1.0"`
+    { $as_echo "$as_me:${as_lineno-$LINENO}: result: found, but $xdt_cv_version" >&5
+$as_echo "found, but $xdt_cv_version" >&6; }
+
+
+      echo "*** The required package gudev-1.0 was found on your system,"
+      echo "*** but the installed version ($xdt_cv_version) is too old."
+      echo "*** Please upgrade gudev-1.0 to atleast version 232, or adjust"
+      echo "*** the PKG_CONFIG_PATH environment variable if you installed"
+      echo "*** the new version of the package in a nonstandard prefix so"
+      echo "*** pkg-config is able to find it."
+      exit 1
+
+  else
+    { $as_echo "$as_me:${as_lineno-$LINENO}: result: not found" >&5
+$as_echo "not found" >&6; }
+
+
+      echo "*** The required package gudev-1.0 was not found on your system."
+      echo "*** Please install gudev-1.0 (atleast version 232) or adjust"
+      echo "*** the PKG_CONFIG_PATH environment variable if you"
+      echo "*** installed the package in a nonstandard prefix so that"
+      echo "*** pkg-config is able to find it."
+      exit 1
+
+  fi
+
+    else
+      { $as_echo "$as_me:${as_lineno-$LINENO}: checking for optional package gudev-1.0 >= 232" >&5
+$as_echo_n "checking for optional package gudev-1.0 >= 232... " >&6; }
+      { $as_echo "$as_me:${as_lineno-$LINENO}: result: not found" >&5
+$as_echo "not found" >&6; }
+    fi
+  else
+    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for optional package gudev-1.0" >&5
+$as_echo_n "checking for optional package gudev-1.0... " >&6; }
+    { $as_echo "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+$as_echo "disabled" >&6; }
+  fi
+
+   if test x"$GUDEV_FOUND" = x"yes"; then
+  HAVE_GUDEV_TRUE=
+  HAVE_GUDEV_FALSE='#'
+else
+  HAVE_GUDEV_TRUE='#'
+  HAVE_GUDEV_FALSE=
+fi
+
+
+else
+   if false; then
+  HAVE_GUDEV_TRUE=
+  HAVE_GUDEV_FALSE='#'
+else
+  HAVE_GUDEV_TRUE='#'
+  HAVE_GUDEV_FALSE=
+fi
+
+fi
 
 
 
@@ -18306,8 +18539,8 @@
     if test "x$PACKAGE_NAME" != "xglib"; then
 
 pkg_failed=no
-{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for GTKDOC_DEPS" >&5
-$as_echo_n "checking for GTKDOC_DEPS... " >&6; }
+{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for glib-2.0 >= 2.10.0 gobject-2.0  >= 2.10.0" >&5
+$as_echo_n "checking for glib-2.0 >= 2.10.0 gobject-2.0  >= 2.10.0... " >&6; }
 
 if test -n "$GTKDOC_DEPS_CFLAGS"; then
     pkg_cv_GTKDOC_DEPS_CFLAGS="$GTKDOC_DEPS_CFLAGS"
@@ -18347,7 +18580,7 @@
 
 
 if test $pkg_failed = yes; then
-   	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
+        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
 $as_echo "no" >&6; }
 
 if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
@@ -18365,7 +18598,7 @@
 
 	:
 elif test $pkg_failed = untried; then
-     	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
+        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
 $as_echo "no" >&6; }
 	:
 else
@@ -18456,7 +18689,7 @@
 if test "${enable_debug+set}" = set; then :
   enableval=$enable_debug; enable_debug=$enableval
 else
-  enable_debug=minimum
+  enable_debug=yes
 fi
 
 
@@ -18900,6 +19133,18 @@
   as_fn_error $? "conditional \"HAVE_EPOXY\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${HAVE_EPOXY_TRUE}" && test -z "${HAVE_EPOXY_FALSE}"; then
+  as_fn_error $? "conditional \"HAVE_EPOXY\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
+if test -z "${HAVE_GUDEV_TRUE}" && test -z "${HAVE_GUDEV_FALSE}"; then
+  as_fn_error $? "conditional \"HAVE_GUDEV\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
+if test -z "${HAVE_GUDEV_TRUE}" && test -z "${HAVE_GUDEV_FALSE}"; then
+  as_fn_error $? "conditional \"HAVE_GUDEV\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${HAVE_INTROSPECTION_TRUE}" && test -z "${HAVE_INTROSPECTION_FALSE}"; then
   as_fn_error $? "conditional \"HAVE_INTROSPECTION\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
@@ -19349,7 +19594,7 @@
 # report actual input values of CONFIG_FILES etc. instead of their
 # values after options handling.
 ac_log="
-This file was extended by libxfce4ui $as_me 4.15.5, which was
+This file was extended by libxfce4ui $as_me 4.15.5git-UNKNOWN, which was
 generated by GNU Autoconf 2.69.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
@@ -19415,7 +19660,7 @@
 cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
 ac_cs_config="`$as_echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`"
 ac_cs_version="\\
-libxfce4ui config.status 4.15.5
+libxfce4ui config.status 4.15.5git-UNKNOWN
 configured by $0, generated by GNU Autoconf 2.69,
   with options \\"\$ac_cs_config\\"
 
@@ -20530,7 +20775,9 @@
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error $? "Something went wrong bootstrapping makefile fragments
-    for automatic dependency tracking.  Try re-running configure with the
+    for automatic dependency tracking.  If GNU make was not used, consider
+    re-running the configure script with MAKE=\"gmake\" (or whatever is
+    necessary).  You can also try re-running configure with the
     '--disable-dependency-tracking' option to at least be able to build
     the package (albeit without support for automatic dependency tracking).
 See \`config.log' for more details" "$LINENO" 5; }
@@ -20557,6 +20804,7 @@
     cat <<_LT_EOF >> "$cfgfile"
 #! $SHELL
 # Generated automatically by $as_me ($PACKAGE) $VERSION
+# Libtool was configured on host `(hostname || uname -n) 2>/dev/null | sed 1q`:
 # NOTE: Changes made to this file will be lost: look at ltmain.sh.
 
 # Provide generalized library-building support services.
@@ -21184,10 +21432,13 @@
 echo "* Vendor:                    none"
 fi
 if test x"$GLIBTOP_FOUND" = x"yes"; then
-echo "* System Info (glibtop):     yes"
+echo "* System Info (libgtop):     yes"
+echo "* System Info (epoxy):       $EPOXY_FOUND"
+echo "* System Info (gudev):       $GUDEV_FOUND"
 else
-echo "* System Info (glibtop):     no"
+echo "* System Info (libgtop):     no"
+echo "* System Info (epoxy):       no (assumes libgtop)"
+echo "* System Info (gudev):       no (assumes libgtop)"
 fi
-echo "* System Info (epoxy):       $EPOXY_FOUND"
 echo "* Manual website:            $with_manual_website"
 echo
diff -Nur libxfce4ui-4.15.5_old/configure.ac libxfce4ui-4.15.5/configure.ac
--- libxfce4ui-4.15.5_old/configure.ac	2020-11-19 23:44:53.000000000 +0700
+++ libxfce4ui-4.15.5/configure.ac	2020-11-27 15:24:33.527062000 +0700
@@ -16,8 +16,8 @@
 m4_define([libxfce4ui_version_minor], [15])
 m4_define([libxfce4ui_version_micro], [5])
 m4_define([libxfce4ui_version_nano], []) dnl leave this empty to have no nano version
-m4_define([libxfce4ui_version_build], [aa9751f])
-m4_define([libxfce4ui_version_tag], [])
+m4_define([libxfce4ui_version_build], [UNKNOWN])
+m4_define([libxfce4ui_version_tag], [git])
 m4_define([libxfce4ui_version], [libxfce4ui_version_major().libxfce4ui_version_minor().libxfce4ui_version_micro()ifelse(libxfce4ui_version_nano(), [], [], [.libxfce4ui_version_nano()])ifelse(libxfce4ui_version_tag(), [git], [libxfce4ui_version_tag()-libxfce4ui_version_build()], [libxfce4ui_version_tag()])])
 
 m4_define([libxfce4kbd_private_verinfo], [0:0:0])
@@ -120,7 +120,7 @@
 dnl ******************************
 dnl *** Check for i18n support ***
 dnl ******************************
-XDT_I18N([en_GB ca zh_CN nb tr en_AU fr eu gl be zh_TW th sr fi pl ast it he et pt_BR ka de sl pa zh_HK nl hy_AM ja hu nn hy si cy ar ko es kk ur sk am te hr sq pt cs is uk hye bn ur_PK id vi da ug lv el sv ru ie lt ms ro bg oc ])
+XDT_I18N([am ar ast be bg bn ca cs cy da de el en_AU en_GB es et eu fi fr gl he hr hu hy hy_AM hye id ie is it ja ka kk ko lt lv ms nb nl nn oc pa pl pt pt_BR ro ru si sk sl sq sr sv te th tr ug uk ur ur_PK vi zh_CN zh_HK zh_TW ])
 
 dnl *******************************************
 dnl *** Check for X Window System installed ***
@@ -153,10 +153,25 @@
 dnl *** Optional support for system information based on epoxy ***
 dnl **************************************************************
 EPOXY_FOUND="no"
-XDT_CHECK_OPTIONAL_PACKAGE([EPOXY],
-                           [epoxy],
-                           [1.0], [epoxy],
-                           [library for handling OpenGL function pointer management], [yes])
+if test x"$GLIBTOP_FOUND" = x"yes"; then
+  XDT_CHECK_OPTIONAL_PACKAGE([EPOXY],
+                             [epoxy],
+                             [1.0], [epoxy],
+                             [library for handling OpenGL function pointer management], [yes])
+else
+  AM_CONDITIONAL([HAVE_EPOXY], [false])
+fi
+
+dnl **********************************
+dnl *** Optional support for GUdev ***
+dnl **********************************
+GUDEV_FOUND="no"
+if test x"$GLIBTOP_FOUND" = x"yes"; then
+  XDT_CHECK_OPTIONAL_PACKAGE([GUDEV], [gudev-1.0], [232], [gudev],
+                             [GObject bindings for libudev], [yes])
+else
+  AM_CONDITIONAL([HAVE_GUDEV], [false])
+fi
 
 dnl ***************************************
 dnl *** Check for gobject-introspection ***
@@ -403,10 +418,13 @@
 echo "* Vendor:                    none"
 fi
 if test x"$GLIBTOP_FOUND" = x"yes"; then
-echo "* System Info (glibtop):     yes"
+echo "* System Info (libgtop):     yes"
+echo "* System Info (epoxy):       $EPOXY_FOUND"
+echo "* System Info (gudev):       $GUDEV_FOUND"
 else
-echo "* System Info (glibtop):     no"
+echo "* System Info (libgtop):     no"
+echo "* System Info (epoxy):       no (assumes libgtop)"
+echo "* System Info (gudev):       no (assumes libgtop)"
 fi
-echo "* System Info (epoxy):       $EPOXY_FOUND"
 echo "* Manual website:            $with_manual_website"
 echo
diff -Nur libxfce4ui-4.15.5_old/libxfce4ui/xfce-titled-dialog.c libxfce4ui-4.15.5/libxfce4ui/xfce-titled-dialog.c
--- libxfce4ui-4.15.5_old/libxfce4ui/xfce-titled-dialog.c	2020-11-19 21:50:43.000000000 +0700
+++ libxfce4ui-4.15.5/libxfce4ui/xfce-titled-dialog.c	2020-11-26 15:30:07.000000000 +0700
@@ -257,7 +257,7 @@
   const gchar *icon_name = gtk_window_get_icon_name (GTK_WINDOW (titled_dialog));
 
   g_return_if_fail (GTK_IS_HEADER_BAR (titled_dialog->priv->headerbar));
-  _libxfce4ui_return_if_fail (icon_name == NULL);
+  g_return_if_fail (icon_name != NULL);
 
   gtk_image_set_from_icon_name (GTK_IMAGE (titled_dialog->priv->icon), icon_name, GTK_ICON_SIZE_LARGE_TOOLBAR);
   gtk_image_set_pixel_size (GTK_IMAGE (titled_dialog->priv->icon), 24);
diff -Nur libxfce4ui-4.15.5_old/xfce4-about/Makefile.am libxfce4ui-4.15.5/xfce4-about/Makefile.am
--- libxfce4ui-4.15.5_old/xfce4-about/Makefile.am	2020-11-19 21:42:15.000000000 +0700
+++ libxfce4ui-4.15.5/xfce4-about/Makefile.am	2020-11-26 15:30:07.000000000 +0700
@@ -31,6 +31,7 @@
 	$(GTK3_CFLAGS) \
 	$(GLIBTOP_CFLAGS) \
 	$(EPOXY_CFLAGS) \
+	$(GUDEV_CFLAGS) \
 	$(LIBX11_CFLAGS) \
 	$(PLATFORM_CFLAGS)
 
@@ -39,6 +40,7 @@
 	$(LIBXFCE4UTIL_LIBS) \
 	$(GLIBTOP_LIBS) \
 	$(EPOXY_LIBS) \
+	$(GUDEV_LIBS) \
 	$(LIBX11_LIBS) \
 	$(LIBX11_LDFLAGS) \
 	$(GTK3_LIBS)
diff -Nur libxfce4ui-4.15.5_old/xfce4-about/Makefile.in libxfce4ui-4.15.5/xfce4-about/Makefile.in
--- libxfce4ui-4.15.5_old/xfce4-about/Makefile.in	2020-11-19 23:44:58.000000000 +0700
+++ libxfce4ui-4.15.5/xfce4-about/Makefile.in	2020-11-27 15:24:45.392061000 +0700
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.16.1 from Makefile.am.
+# Makefile.in generated by automake 1.16.3 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2018 Free Software Foundation, Inc.
+# Copyright (C) 1994-2020 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -104,7 +104,7 @@
 am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \
 	$(ACLOCAL_M4)
 DIST_COMMON = $(srcdir)/Makefile.am $(am__DIST_COMMON)
-mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
+mkinstalldirs = $(install_sh) -d
 CONFIG_HEADER = $(top_builddir)/config.h
 CONFIG_CLEAN_FILES =
 CONFIG_CLEAN_VPATH_FILES =
@@ -216,8 +216,7 @@
   done | $(am__uniquify_input)`
 ETAGS = etags
 CTAGS = ctags
-am__DIST_COMMON = $(srcdir)/Makefile.in $(top_srcdir)/depcomp \
-	$(top_srcdir)/mkinstalldirs
+am__DIST_COMMON = $(srcdir)/Makefile.in $(top_srcdir)/depcomp
 DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
 ACLOCAL = @ACLOCAL@
 ALL_LINGUAS = @ALL_LINGUAS@
@@ -283,6 +282,10 @@
 GTKDOC_MKPDF = @GTKDOC_MKPDF@
 GTKDOC_REBASE = @GTKDOC_REBASE@
 GTK_DOC_EXTRA_CFLAGS = @GTK_DOC_EXTRA_CFLAGS@
+GUDEV_CFLAGS = @GUDEV_CFLAGS@
+GUDEV_LIBS = @GUDEV_LIBS@
+GUDEV_REQUIRED_VERSION = @GUDEV_REQUIRED_VERSION@
+GUDEV_VERSION = @GUDEV_VERSION@
 HTML_DIR = @HTML_DIR@
 INSTALL = @INSTALL@
 INSTALL_DATA = @INSTALL_DATA@
@@ -441,7 +444,6 @@
 prefix = @prefix@
 program_transform_name = @program_transform_name@
 psdir = @psdir@
-runstatedir = @runstatedir@
 sbindir = @sbindir@
 sharedstatedir = @sharedstatedir@
 srcdir = @srcdir@
@@ -471,6 +473,7 @@
 	$(GTK3_CFLAGS) \
 	$(GLIBTOP_CFLAGS) \
 	$(EPOXY_CFLAGS) \
+	$(GUDEV_CFLAGS) \
 	$(LIBX11_CFLAGS) \
 	$(PLATFORM_CFLAGS)
 
@@ -479,6 +482,7 @@
 	$(LIBXFCE4UTIL_LIBS) \
 	$(GLIBTOP_LIBS) \
 	$(EPOXY_LIBS) \
+	$(GUDEV_LIBS) \
 	$(LIBX11_LIBS) \
 	$(LIBX11_LDFLAGS) \
 	$(GTK3_LIBS)
@@ -771,7 +775,8 @@
 	done
 install: $(BUILT_SOURCES)
 	$(MAKE) $(AM_MAKEFLAGS) install-am
-install-exec: install-exec-am
+install-exec: $(BUILT_SOURCES)
+	$(MAKE) $(AM_MAKEFLAGS) install-exec-am
 install-data: install-data-am
 uninstall: uninstall-am
 
@@ -874,7 +879,7 @@
 
 uninstall-am: uninstall-binPROGRAMS uninstall-desktopDATA
 
-.MAKE: all check install install-am install-strip
+.MAKE: all check install install-am install-exec install-strip
 
 .PHONY: CTAGS GTAGS TAGS all all-am am--depfiles check check-am clean \
 	clean-binPROGRAMS clean-generic clean-libtool cscopelist-am \
diff -Nur libxfce4ui-4.15.5_old/xfce4-about/main.c libxfce4ui-4.15.5/xfce4-about/main.c
--- libxfce4ui-4.15.5_old/xfce4-about/main.c	2020-11-19 21:42:15.000000000 +0700
+++ libxfce4ui-4.15.5/xfce4-about/main.c	2020-11-26 15:30:07.000000000 +0700
@@ -75,6 +75,7 @@
   g_autofree char *memory_text = NULL;
   g_autofree char *os_name_text = NULL;
   g_autofree char *os_type_text = NULL;
+  guint num_gpus = 0;
 
   label = gtk_builder_get_object (builder, "device");
   device_text = get_system_info (DEVICE_NAME);
@@ -110,9 +111,14 @@
   memory_text = g_format_size_full (mem.total, G_FORMAT_SIZE_IEC_UNITS);
   gtk_label_set_text (GTK_LABEL (label), memory_text ? memory_text : "");
 
-  gpu_text = get_gpu_info ();
+  gpu_text = get_gpu_info (&num_gpus);
+  if (num_gpus > 1)
+    {
+      label = gtk_builder_get_object (builder, "gpu-label");
+      gtk_label_set_text (GTK_LABEL (label), _("GPUs"));
+    }
   label = gtk_builder_get_object (builder, "gpu");
-  gtk_label_set_text (GTK_LABEL (label), gpu_text ? gpu_text : "");
+  gtk_label_set_markup (GTK_LABEL (label), gpu_text ? gpu_text : "");
 }
 #endif
 
@@ -502,7 +508,6 @@
   GError     *error = NULL;
   GObject    *dialog;
   GObject    *object;
-  gchar      *version;
 
   xfce_textdomain (GETTEXT_PACKAGE, PACKAGE_LOCALE_DIR, "UTF-8");
 
@@ -548,18 +553,6 @@
   g_signal_connect_swapped (G_OBJECT (dialog), "delete-event",
       G_CALLBACK (gtk_main_quit), NULL);
 
-#ifdef VENDOR_INFO
-  /* I18N: first %s will be replaced by the version, second by
-   * the name of the distribution (--with-vendor-info=NAME) */
-  version = g_strdup_printf (_("Version %s, distributed by %s"),
-                             xfce_version_string (), VENDOR_INFO);
-#else
-  /* I18N: %s will be replaced by the Xfce version number */
-  version = g_strdup_printf (_("Version %s"), xfce_version_string ());
-#endif
-  xfce_titled_dialog_set_subtitle (XFCE_TITLED_DIALOG (dialog), version);
-  g_free (version);
-
 #ifdef HAVE_GLIBTOP
   xfce_about_system (builder);
 #else
diff -Nur libxfce4ui-4.15.5_old/xfce4-about/system-info.c libxfce4ui-4.15.5/xfce4-about/system-info.c
--- libxfce4ui-4.15.5_old/xfce4-about/system-info.c	2020-11-19 21:42:15.000000000 +0700
+++ libxfce4ui-4.15.5/xfce4-about/system-info.c	2020-11-26 15:30:07.000000000 +0700
@@ -39,12 +39,24 @@
 #include <X11/Xlib.h>
 #endif
 
+#ifdef HAVE_GUDEV
+#include <gudev/gudev.h>
+#endif
+
 #include "system-info.h"
 
 
 
 typedef struct
 {
+  gboolean is_default;
+  gint memory_size_mib;  /* Unit: mebibyte (MiB), zero if unknown */
+  char *name;            /* NULL if unknown */
+  char *pci_id;          /* "VID:DID", lowercase, VID (DID) is vendor (device) ID, NULL if unknown */
+} GPUInfo;
+
+typedef struct
+{
   char *regex;
   char *replacement;
 } ReplaceStrings;
@@ -80,6 +92,10 @@
     { "(AMD .*) [(].*", "\\1"},
     { "(AMD [A-Z])(.*)", "\\1\\L\\2\\E"},
     { "AMD", "AMD<sup>\302\256</sup>"},
+    { "GeForce ", "GeForce<sup>\302\256</sup> "},
+    { "GeForce[(]R[)]", "GeForce<sup>\302\256</sup>"},
+    { "Radeon ", "Radeon<sup>\342\204\242</sup> "},
+    { "Radeon[(]TM[)]", "Radeon<sup>\342\204\242</sup>"},
     { "Graphics Controller", "Graphics"},
   };
 
@@ -227,11 +243,162 @@
 
 
 
+
+static void
+free_gpu_info (gpointer p)
+{
+  GPUInfo *i = p;
+  g_free (i->name);
+  g_free (i->pci_id);
+  g_free (i);
+}
+
+static GList*
+append_gpu_info (GList *gpus, GPUInfo *gpu)
+{
+  gboolean merged = FALSE;
+
+  if (gpu->pci_id)
+    {
+      GList *l;
+
+      /* Merge the GPU info with GPUs already present in the list */
+      for (l = gpus; l;)
+        {
+          GPUInfo *i = l->data;
+          gboolean remove = FALSE;
+
+          if (!i->pci_id)
+            {
+              /* Remove all GPUs without a PCI ID */
+              remove = TRUE;
+            }
+          else if (strcmp (i->pci_id, gpu->pci_id) == 0)
+            {
+              i->is_default |= gpu->is_default;
+              if (i->memory_size_mib == 0 && gpu->memory_size_mib != 0)
+                i->memory_size_mib = gpu->memory_size_mib;
+              if (!i->name && gpu->name)
+                i->name = g_strdup (gpu->name);
+              merged = TRUE;
+            }
+
+          if (remove)
+            {
+              GList *next = l->next;
+              gpus = g_list_remove_link (gpus, l);
+              g_list_free_1 (l);
+              free_gpu_info (i);
+              l = next;
+            }
+          else
+            l = l->next;
+        }
+    }
+
+  if (!merged)
+    gpus = g_list_append (gpus, gpu);
+  else
+    free_gpu_info (gpu);
+
+  return gpus;
+}
+
+
+
+#ifdef HAVE_GUDEV
+
+static GList*
+get_drm_cards (GList *gpus)
+{
+  const gchar *const subsystems[] = { "drm", NULL };
+  GUdevClient *client;
+  GList *devices, *l;
+
+  client = g_udev_client_new (subsystems);
+  devices = g_udev_client_query_by_subsystem (client, "drm");
+  for (l = devices; l != NULL; l = l->next)
+    {
+      GUdevDevice *d = l->data;
+      const char *path = g_udev_device_get_device_file (d);
+
+      if (path && g_str_has_prefix (path, "/dev/dri/render"))
+        {
+          GUdevDevice *parent;
+          const char *property;
+
+          parent = g_udev_device_get_parent (d);
+
+          property = g_udev_device_get_property (parent, "ID_MODEL_FROM_DATABASE");
+          if (property)
+            {
+              GPUInfo *const gpu = g_new0 (GPUInfo, 1);
+
+              gpu->name = info_cleanup (property);
+              g_strstrip (gpu->name);
+
+              /* Example GPU names before cleanup:
+               *   GM107 [GeForce GTX 750]
+               *   Navi 14 [Radeon RX 5500/5500M / Pro 5500M]
+               * After cleanup:
+               *   GeForce GTX 750
+               *   Radeon RX 5500/5500M / Pro 5500M
+               */
+              if (g_regex_match_simple ("^[^\\[]+\\[[^\\]]{4,}\\]$", gpu->name, 0, 0))
+                {
+                  char *s;
+                  gpu->name[strlen (gpu->name) - 1] = '\0';  /* Remove trailing ] */
+                  if (G_LIKELY ((s = strrchr (gpu->name, '[')) != NULL))
+                    {
+                      s = g_strdup (s+1);
+                      g_free (gpu->name);
+                      gpu->name = s;
+                    }
+                }
+
+              property = g_udev_device_get_property (parent, "PCI_ID");
+              if (property)
+                {
+                   gpu->pci_id = g_ascii_strdown (property, -1);
+                   g_strstrip (gpu->pci_id);
+                }
+
+              gpus = append_gpu_info (gpus, gpu);
+          }
+
+          g_object_unref (parent);
+        }
+
+      g_object_unref (d);
+    }
+
+  g_list_free (devices);
+  g_object_unref (client);
+
+  return gpus;
+}
+
+#endif
+
+
+
+/**
+ * Returns a string containing all detected GPUs.
+ * If the machine has multiple GPUs, they are separated by the newline '\n' character.
+ *
+ * @num_gpus: where to store the number of detected GPUs, or %NULL.
+ */
 char*
-get_gpu_info (void)
+get_gpu_info (guint *num_gpus)
 {
+  GList *gpus = NULL;
   gchar *result = NULL;
+#ifdef HAVE_EPOXY
   Display *dpy;
+#endif
+
+  if (num_gpus)
+    *num_gpus = 0;
 
 #ifdef HAVE_EPOXY
   dpy = XOpenDisplay (NULL);
@@ -271,12 +438,22 @@
       {
 	if (glXMakeCurrent (dpy, win, ctx))
         {
-          const gchar *const renderer = (const gchar*) glGetString (GL_RENDERER);
+          GPUInfo *gpu = g_new0 (GPUInfo, 1);
+          gchar *renderer;
+
+          gpu->is_default = TRUE;
+
+          renderer = g_strdup ((const gchar*) glGetString (GL_RENDERER));
           if (renderer) {
             gsize length = strlen (renderer);
             gchar *renderer_lc = g_ascii_strdown (renderer, length);
+            gchar *s;
             gboolean strip = true;
 
+            s = info_cleanup (renderer);
+            g_free (renderer);
+            renderer = s;
+
             /* Return full renderer string in the following cases: */
             strip = strip && !g_str_has_prefix (renderer_lc, "llvmpipe");
             strip = strip && !g_str_has_prefix (renderer_lc, "softpipe");
@@ -296,9 +473,33 @@
               }
             }
 
-            result = g_strndup (renderer, length);
+            gpu->name = g_strndup (renderer, length);
+            g_free (renderer);
+          }
+
+          if (epoxy_has_glx_extension (dpy, 0, "GLX_MESA_query_renderer"))
+          {
+            unsigned mem_mib = 0, vendor = 0, device = 0;
+            if (glXQueryCurrentRendererIntegerMESA (GLX_RENDERER_VIDEO_MEMORY_MESA, &mem_mib) && mem_mib > 0)
+                gpu->memory_size_mib = mem_mib;
+
+            if (glXQueryCurrentRendererIntegerMESA (GLX_RENDERER_VENDOR_ID_MESA, &vendor) &&
+                glXQueryCurrentRendererIntegerMESA (GLX_RENDERER_DEVICE_ID_MESA, &device))
+              gpu->pci_id = g_strdup_printf ("%04x:%04x", vendor, device);
+          }
+
+          if (gpu->memory_size_mib == 0 && epoxy_has_gl_extension ("GL_NVX_gpu_memory_info"))
+          {
+            GLint mem_kib = 0;
+            glGetIntegerv (GL_GPU_MEMORY_INFO_DEDICATED_VIDMEM_NVX, &mem_kib);
+            if (mem_kib > 0)
+                gpu->memory_size_mib = mem_kib >> 10;
           }
+
+          /* Deallocate ctx immediately when calling glXDestroyContext() */
           glXMakeCurrent (dpy, None, NULL);
+
+          gpus = append_gpu_info (gpus, gpu);
         }
         glXDestroyContext (dpy, ctx);
       }
@@ -310,9 +511,49 @@
   }
 #endif
 
-  if (!result) {
+#ifdef HAVE_GUDEV
+  gpus = get_drm_cards (gpus);
+#endif
+
+  if (gpus)
+    {
+      GList *gpu;
+      for (gpu = gpus; gpu; gpu = gpu->next)
+        {
+          GPUInfo *info = (GPUInfo*) gpu->data;
+          char *s;
+
+          if (result)
+            {
+              s = g_strconcat (result, "\n", NULL);
+              g_free (result);
+              result = s;
+            }
+
+          s = g_strconcat (result ? result : "", info->name ? info->name : _("Unknown"), NULL);
+          g_free (result);
+          result = s;
+
+          if (info->memory_size_mib != 0)
+            {
+              char *mem = g_format_size_full ((guint64) info->memory_size_mib << 20, G_FORMAT_SIZE_IEC_UNITS);
+              s = g_strconcat (result, " (", mem, ")", NULL);
+              g_free (mem);
+              g_free (result);
+              result = s;
+            }
+        }
+
+      if (num_gpus)
+        *num_gpus = g_list_length (gpus);
+
+      g_list_free_full (gpus, free_gpu_info);
+      gpus = NULL;
+    }
+
+  if (!result)
     result = g_strdup (_("Unknown"));
-  }
+
   return result;
 }
 
diff -Nur libxfce4ui-4.15.5_old/xfce4-about/system-info.h libxfce4ui-4.15.5/xfce4-about/system-info.h
--- libxfce4ui-4.15.5_old/xfce4-about/system-info.h	2020-11-19 21:42:15.000000000 +0700
+++ libxfce4ui-4.15.5/xfce4-about/system-info.h	2020-11-26 15:30:07.000000000 +0700
@@ -40,6 +40,6 @@
 char *get_os_type (void);
 char *get_system_info (guint infotype);
 char *get_cpu_info (const glibtop_sysinfo *info);
-char *get_gpu_info (void);
+char *get_gpu_info (guint *num_gpus);
 char *get_os_name (void);
 char *get_renderer (void);
diff -Nur libxfce4ui-4.15.5_old/xfce4-about/xfce4-about-dialog.glade libxfce4ui-4.15.5/xfce4-about/xfce4-about-dialog.glade
--- libxfce4ui-4.15.5_old/xfce4-about/xfce4-about-dialog.glade	2020-11-19 21:42:15.000000000 +0700
+++ libxfce4ui-4.15.5/xfce4-about/xfce4-about-dialog.glade	2020-11-26 15:30:07.000000000 +0700
@@ -423,7 +423,6 @@
                     <property name="valign">center</property>
                     <property name="row_spacing">6</property>
                     <property name="column_spacing">12</property>
-                    <property name="row_homogeneous">True</property>
                     <child>
                       <object class="GtkLabel" id="ostype">
                         <property name="visible">True</property>
@@ -601,11 +600,12 @@
                       </packing>
                     </child>
                     <child>
-                      <object class="GtkLabel">
+                      <object class="GtkLabel" id="gpu-label">
                         <property name="visible">True</property>
                         <property name="sensitive">False</property>
                         <property name="can_focus">False</property>
                         <property name="has_tooltip">True</property>
+                        <property name="valign">baseline</property>
                         <property name="label" translatable="yes">GPU</property>
                         <property name="xalign">1</property>
                       </object>
@@ -618,6 +618,7 @@
                       <object class="GtkLabel" id="gpu">
                         <property name="visible">True</property>
                         <property name="can_focus">False</property>
+                        <property name="valign">baseline</property>
                         <property name="label" translatable="yes">label</property>
                         <property name="xalign">0</property>
                       </object>
